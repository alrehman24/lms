{
    "sourceFile": "routes/api.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 13,
            "patches": [
                {
                    "date": 1751203798886,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751203937557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,10 @@\n use Illuminate\\Support\\Facades\\Route;\n-use Laravel\\Sanctum\\Http\\Middleware\\EnsureFrontendRequestsAreStateful;\n+use App\\Http\\Controllers\\AdminController;\n \n-Route::middleware([\n-    EnsureFrontendRequestsAreStateful::class,\n-    'auth:sanctum'\n-])->get('/user', function (Request $request) {\n-    return $request->user();\n+Route::prefix('admin')->group(function () {\n+    Route::middleware('guest:sanctum')->group(function () {\n+        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n+        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n+        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n+    });\n });\n"
                },
                {
                    "date": 1751203944201,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,10 @@\n+use Illuminate\\Support\\Facades\\Route;\n+use App\\Http\\Controllers\\AdminController;\n+\n+Route::prefix('admin')->group(function () {\n+    Route::middleware('guest:sanctum')->group(function () {\n+        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n+        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n+        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n+    });\n+});\n"
                },
                {
                    "date": 1751203954241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,10 @@\n+use Illuminate\\Support\\Facades\\Route;\n+use App\\Http\\Controllers\\AdminController;\n+\n+Route::prefix('admin')->group(function () {\n+    Route::middleware('guest:sanctum')->group(function () {\n+        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n+        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n+        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n+    });\n+});\n"
                },
                {
                    "date": 1751204347116,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,10 @@\n+use Illuminate\\Support\\Facades\\Route;\n+use App\\Http\\Controllers\\AdminController;\n+\n+ \n+    Route::middleware('guest:sanctum')->group(function () {\n+        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n+        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n+        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n+    });\n+});\n"
                },
                {
                    "date": 1751205043230,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,40 +1,10 @@\n use Illuminate\\Support\\Facades\\Route;\n use App\\Http\\Controllers\\AdminController;\n \n- \n-    Route::middleware('guest:sanctum')->group(function () {\n-        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n-        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n-        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n-    });\n-});\n-use Illuminate\\Support\\Facades\\Route;\n-use App\\Http\\Controllers\\AdminController;\n-\n Route::prefix('admin')->group(function () {\n-    Route::middleware('guest:sanctum')->group(function () {\n+    Route::middleware('guest')->group(function () {\n         Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n         Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n         Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n     });\n });\n-use Illuminate\\Support\\Facades\\Route;\n-use App\\Http\\Controllers\\AdminController;\n-\n-Route::prefix('admin')->group(function () {\n-    Route::middleware('guest:sanctum')->group(function () {\n-        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n-        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n-        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n-    });\n-});\n-use Illuminate\\Support\\Facades\\Route;\n-use App\\Http\\Controllers\\AdminController;\n-\n-Route::prefix('admin')->group(function () {\n-    Route::middleware('guest:sanctum')->group(function () {\n-        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n-        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n-        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n-    });\n-});\n"
                },
                {
                    "date": 1751205052253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,10 @@\n+use Illuminate\\Support\\Facades\\Route;\n+use App\\Http\\Controllers\\AdminController;\n+\n+Route::prefix('admin')->group(function () {\n+    Route::middleware('guest')->group(function () {\n+        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n+        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n+        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n+    });\n+});\n"
                },
                {
                    "date": 1751205268487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,19 +2,9 @@\n use App\\Http\\Controllers\\AdminController;\n \n Route::prefix('admin')->group(function () {\n     Route::middleware('guest')->group(function () {\n-        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n+        Route::get('login', [AdminController::class, 'login']);\n         Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n         Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n     });\n });\n-use Illuminate\\Support\\Facades\\Route;\n-use App\\Http\\Controllers\\AdminController;\n-\n-Route::prefix('admin')->group(function () {\n-    Route::middleware('guest')->group(function () {\n-        Route::get('login', [AdminController::class, 'login'])->name('admin.login');\n-        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n-        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n-    });\n-});\n"
                },
                {
                    "date": 1751205273881,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,8 @@\n \n Route::prefix('admin')->group(function () {\n     Route::middleware('guest')->group(function () {\n         Route::get('login', [AdminController::class, 'login']);\n-        Route::post('login', [AdminController::class, 'authenticate'])->name('admin.authenticate');\n+        Route::post('login', [AdminController::class, 'authenticate']);\n         Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n     });\n });\n"
                },
                {
                    "date": 1751205455561,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,11 @@\n use Illuminate\\Support\\Facades\\Route;\n use App\\Http\\Controllers\\AdminController;\n-\n-Route::prefix('admin')->group(function () {\n-    Route::middleware('guest')->group(function () {\n-        Route::get('login', [AdminController::class, 'login']);\n-        Route::post('login', [AdminController::class, 'authenticate']);\n-        Route::get('register', [AdminController::class, 'register'])->name('admin.register');\n+Route::middleware('api')->group(function () {\n+    Route::prefix('admin')->group(function () {\n+        Route::middleware('guest')->group(function () {\n+            Route::get('login', [AdminController::class, 'login']);\n+            Route::post('login', [AdminController::class, 'authenticate']);\n+            Route::get('register', [AdminController::class, 'register']);\n+        });\n     });\n });\n"
                },
                {
                    "date": 1751205546736,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,9 @@\n use Illuminate\\Support\\Facades\\Route;\n use App\\Http\\Controllers\\AdminController;\n-Route::middleware('api')->group(function () {\n-    Route::prefix('admin')->group(function () {\n-        Route::middleware('guest')->group(function () {\n-            Route::get('login', [AdminController::class, 'login']);\n-            Route::post('login', [AdminController::class, 'authenticate']);\n-            Route::get('register', [AdminController::class, 'register']);\n-        });\n+Route::prefix('api/admin')->middleware('api')->group(function () {\n+    Route::middleware('guest')->group(function () {\n+        Route::get('login', [AdminController::class, 'login']);\n+        Route::post('login', [AdminController::class, 'authenticate']);\n+        Route::get('register', [AdminController::class, 'register']);\n     });\n });\n"
                },
                {
                    "date": 1751205608075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n use Illuminate\\Support\\Facades\\Route;\n use App\\Http\\Controllers\\AdminController;\n-Route::prefix('api/admin')->middleware('api')->group(function () {\n+Route::prefix('admin')->middleware('api')->group(function () {\n     Route::middleware('guest')->group(function () {\n         Route::get('login', [AdminController::class, 'login']);\n         Route::post('login', [AdminController::class, 'authenticate']);\n         Route::get('register', [AdminController::class, 'register']);\n"
                },
                {
                    "date": 1751205756837,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,10 @@\n use Illuminate\\Support\\Facades\\Route;\n use App\\Http\\Controllers\\AdminController;\n+\n Route::prefix('admin')->middleware('api')->group(function () {\n     Route::middleware('guest')->group(function () {\n-        Route::get('login', [AdminController::class, 'login']);\n-        Route::post('login', [AdminController::class, 'authenticate']);\n-        Route::get('register', [AdminController::class, 'register']);\n+        Route::get('login', [AdminController::class, 'login'])->name('api.admin.login');\n+        Route::post('login', [AdminController::class, 'authenticate'])->name('api.admin.authenticate');\n+        Route::get('register', [AdminController::class, 'register'])->name('api.admin.register');\n     });\n });\n"
                },
                {
                    "date": 1751208290281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,36 @@\n+use Illuminate\\Http\\Request;\n use Illuminate\\Support\\Facades\\Route;\n-use App\\Http\\Controllers\\AdminController;\n+use App\\Models\\User;\n+use Illuminate\\Support\\Facades\\Hash;\n+use Illuminate\\Validation\\ValidationException;\n \n-Route::prefix('admin')->middleware('api')->group(function () {\n-    Route::middleware('guest')->group(function () {\n-        Route::get('login', [AdminController::class, 'login'])->name('api.admin.login');\n-        Route::post('login', [AdminController::class, 'authenticate'])->name('api.admin.authenticate');\n-        Route::get('register', [AdminController::class, 'register'])->name('api.admin.register');\n-    });\n+/*\n+|--------------------------------------------------\n+| Public Routes\n+|--------------------------------------------------\n+*/\n+Route::post('/login', function (Request $request) {\n+    $request->validate([\n+        'email' => 'required|email',\n+        'password' => 'required'\n+    ]);\n+\n+    $user = \\App\\Models\\User::where('email', $request->email)->first();\n+\n+    if (! $user || ! Hash::check($request->password, $user->password)) {\n+        throw ValidationException::withMessages([\n+            'email' => ['The provided credentials are incorrect.'],\n+        ]);\n+    }\n+\n+    return $user->createToken('api-token')->plainTextToken;\n });\n+\n+/*\n+|--------------------------------------------------\n+| Protected Routes (auth:sanctum)\n+|--------------------------------------------------\n+*/\n+Route::middleware('auth:sanctum')->get('/user', function (Request $request) {\n+    return $request->user();\n+});\n"
                }
            ],
            "date": 1751203798886,
            "name": "Commit-0",
            "content": "use Illuminate\\Support\\Facades\\Route;\nuse Laravel\\Sanctum\\Http\\Middleware\\EnsureFrontendRequestsAreStateful;\n\nRoute::middleware([\n    EnsureFrontendRequestsAreStateful::class,\n    'auth:sanctum'\n])->get('/user', function (Request $request) {\n    return $request->user();\n});\n"
        }
    ]
}